(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"4+hN":function(e,t,r){"use strict";r.r(t);var c=r("ofXK"),i=r("tyNb"),n=r("3Pt+"),a=r("fXoL"),l=r("1kSV");function o(e,t){1&e&&(a.Sb(0,"span",20),a.Bc(1," Field is required "),a.Rb())}function s(e,t){1&e&&(a.Sb(0,"span",20),a.Bc(1," Minimum 2 characters is required "),a.Rb())}function b(e,t){1&e&&(a.Sb(0,"span",20),a.Bc(1," Field is required "),a.Rb())}function d(e,t){1&e&&(a.Sb(0,"span",20),a.Bc(1," Minimum 2 characters is required "),a.Rb())}function m(e,t){1&e&&(a.Sb(0,"span",20),a.Bc(1," Field is required "),a.Rb())}function u(e,t){1&e&&(a.Sb(0,"span",20),a.Bc(1," Email is not valid "),a.Rb())}let h=(()=>{class e{constructor(e){this.activeModal=e,this.btnLabel="Add"}ngOnInit(){this.createForm()}get firstNameField(){return this.teacherForm.controls.firstName}get lastNameField(){return this.teacherForm.controls.lastName}get emailField(){return this.teacherForm.controls.email}handleConfirm(){this.teacherForm.invalid||this.activeModal.close(this.teacherForm.value)}createForm(){this.teacherForm=new n.d({firstName:new n.b(null,[n.o.required,n.o.minLength(2)]),lastName:new n.b(null,[n.o.required,n.o.minLength(2)]),email:new n.b(null,[n.o.required,n.o.email]),gender:new n.b("male",n.o.required),company:new n.b(null)}),this.teacher&&this.teacherForm.patchValue(this.teacher)}}return e.\u0275fac=function(t){return new(t||e)(a.Mb(l.a))},e.\u0275cmp=a.Gb({type:e,selectors:[["cm-teacher-modal"]],inputs:{title:"title",teacher:"teacher",btnLabel:"btnLabel"},decls:43,vars:10,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"formGroup"],[1,"form-group"],["type","text","formControlName","firstName",1,"form-control"],["class","text-danger",4,"ngIf"],["type","text","formControlName","lastName",1,"form-control"],["type","email","formControlName","email",1,"form-control"],["type","text","formControlName","company",1,"form-control"],[1,"form-check","form-check-inline"],["formControlName","gender","type","radio","name","gender","id","male","value","male",1,"form-check-input"],["for","male",1,"form-check-label"],["formControlName","gender","type","radio","name","gender","id","female","value","female",1,"form-check-input"],["for","female",1,"form-check-label"],[1,"modal-footer"],["type","submit",1,"btn","btn-outline-primary",3,"disabled","click"],["type","button",1,"btn","btn-outline-dark",3,"click"],[1,"text-danger"]],template:function(e,t){1&e&&(a.Sb(0,"div",0),a.Sb(1,"h4",1),a.Bc(2),a.Rb(),a.Sb(3,"button",2),a.ec("click",(function(){return t.activeModal.dismiss()})),a.Sb(4,"span",3),a.Bc(5,"\xd7"),a.Rb(),a.Rb(),a.Rb(),a.Sb(6,"div",4),a.Sb(7,"form",5),a.Sb(8,"div",6),a.Sb(9,"label"),a.Bc(10,"First Name: "),a.Rb(),a.Nb(11,"input",7),a.zc(12,o,2,0,"span",8),a.zc(13,s,2,0,"span",8),a.Rb(),a.Sb(14,"div",6),a.Sb(15,"label"),a.Bc(16,"Last Name: "),a.Rb(),a.Nb(17,"input",9),a.zc(18,b,2,0,"span",8),a.zc(19,d,2,0,"span",8),a.Rb(),a.Sb(20,"div",6),a.Sb(21,"label"),a.Bc(22,"Email: "),a.Rb(),a.Nb(23,"input",10),a.zc(24,m,2,0,"span",8),a.zc(25,u,2,0,"span",8),a.Rb(),a.Sb(26,"div",6),a.Sb(27,"label"),a.Bc(28,"Company: "),a.Rb(),a.Nb(29,"input",11),a.Rb(),a.Sb(30,"div",12),a.Nb(31,"input",13),a.Sb(32,"label",14),a.Bc(33,"Male"),a.Rb(),a.Rb(),a.Sb(34,"div",12),a.Nb(35,"input",15),a.Sb(36,"label",16),a.Bc(37,"Female"),a.Rb(),a.Rb(),a.Rb(),a.Rb(),a.Sb(38,"div",17),a.Sb(39,"button",18),a.ec("click",(function(){return t.handleConfirm()})),a.Bc(40),a.Rb(),a.Sb(41,"button",19),a.ec("click",(function(){return t.activeModal.close()})),a.Bc(42,"Close"),a.Rb(),a.Rb()),2&e&&(a.zb(2),a.Cc(t.title),a.zb(5),a.jc("formGroup",t.teacherForm),a.zb(5),a.jc("ngIf",t.firstNameField.touched&&(null==t.firstNameField.errors?null:t.firstNameField.errors.required)),a.zb(1),a.jc("ngIf",t.firstNameField.touched&&(null==t.firstNameField.errors?null:t.firstNameField.errors.minlength)),a.zb(5),a.jc("ngIf",t.lastNameField.touched&&(null==t.lastNameField.errors?null:t.lastNameField.errors.required)),a.zb(1),a.jc("ngIf",t.lastNameField.touched&&(null==t.lastNameField.errors?null:t.lastNameField.errors.minlength)),a.zb(5),a.jc("ngIf",t.emailField.touched&&(null==t.emailField.errors?null:t.emailField.errors.required)),a.zb(1),a.jc("ngIf",t.emailField.touched&&(null==t.emailField.errors?null:t.emailField.errors.email)),a.zb(14),a.jc("disabled",t.teacherForm.invalid),a.zb(1),a.Cc(t.btnLabel))},directives:[n.q,n.j,n.e,n.a,n.i,n.c,c.k,n.l],styles:[""]}),e})();var f=r("OzGw"),p=r("jqN+"),S=r("d3Ko"),N=r("liq8");function R(e,t){if(1&e){const e=a.Tb();a.Sb(0,"tr"),a.Sb(1,"th",7),a.Bc(2),a.Rb(),a.Sb(3,"td"),a.Bc(4),a.Rb(),a.Sb(5,"td",8),a.Sb(6,"button",9),a.ec("click",(function(){a.sc(e);const r=t.$implicit;return a.gc().editTeacher(r)})),a.Bc(7," Edit "),a.Rb(),a.Sb(8,"button",10),a.ec("click",(function(){a.sc(e);const r=t.$implicit;return a.gc().deleteTeacher(r)})),a.Bc(9," Delete "),a.Rb(),a.Rb(),a.Rb()}if(2&e){const e=t.$implicit,r=t.index;a.zb(2),a.Cc(r+1),a.zb(2),a.Ec("",e.firstName," ",e.lastName,"")}}const F=[{path:"",component:(()=>{class e{constructor(e,t,r){this.teacherService=e,this.modalService=t,this.alert=r}ngOnInit(){this.loadTeachers()}addTeacher(){const e=this.modalService.open(h);e.componentInstance.title="Add Teacher",e.result.then(e=>{e&&this.teacherService.createTeacher(e).subscribe(e=>{this.loadTeachers()},e=>{this.alert.error("Please try later","Unable to create teacher")})})}editTeacher(e){const t=this.modalService.open(h);t.componentInstance.title="Edit Teacher",t.componentInstance.teacher=e,t.componentInstance.btnLabel="Edit",t.result.then(t=>{t&&this.teacherService.updateTeacher(e.id,t).subscribe(e=>{this.loadTeachers()},e=>{this.alert.error("Please try later","Unable to edit teacher")})})}deleteTeacher(e){const t=this.modalService.open(f.a);t.componentInstance.title=`Delete ${e.firstName} ${e.lastName}`,t.result.then(t=>{t&&this.teacherService.deleteTeacher(e.id).subscribe(e=>{this.alert.info("Teacher deleted"),this.loadTeachers()},e=>{this.alert.error("Please try later","Unexpected error")})})}loadTeachers(){this.teacherService.getAll().subscribe(e=>{this.teachers=e},e=>{this.alert.error("Please try later","Unexpected error")})}}return e.\u0275fac=function(t){return new(t||e)(a.Mb(p.a),a.Mb(l.e),a.Mb(S.a))},e.\u0275cmp=a.Gb({type:e,selectors:[["cm-teacher-list"]],decls:14,vars:1,consts:[[1,"container-fluid","pt-2"],["title","Teachers",3,"onAddClick"],[1,"row","pt-5"],[1,"table","table-striped"],["scope","col"],["scope","col",1,"pull-right","action-column"],[4,"ngFor","ngForOf"],["scope","row"],[1,"pull-right","action-column"],["type","button",1,"btn","btn-info","btn-sm","mr-1",3,"click"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"]],template:function(e,t){1&e&&(a.Sb(0,"div",0),a.Sb(1,"cm-common-header",1),a.ec("onAddClick",(function(){return t.addTeacher()})),a.Rb(),a.Sb(2,"div",2),a.Sb(3,"table",3),a.Sb(4,"thead"),a.Sb(5,"tr"),a.Sb(6,"th",4),a.Bc(7,"#"),a.Rb(),a.Sb(8,"th",4),a.Bc(9,"Name"),a.Rb(),a.Sb(10,"th",5),a.Bc(11,"Actions"),a.Rb(),a.Rb(),a.Rb(),a.Sb(12,"tbody"),a.zc(13,R,10,3,"tr",6),a.Rb(),a.Rb(),a.Rb(),a.Rb()),2&e&&(a.zb(13),a.jc("ngForOf",t.teachers))},directives:[N.a,c.j],styles:[""]}),e})()}];let v=(()=>{class e{}return e.\u0275mod=a.Kb({type:e}),e.\u0275inj=a.Jb({factory:function(t){return new(t||e)},imports:[[i.e.forChild(F)],i.e]}),e})();var g=r("PCNd");r.d(t,"TeacherModule",(function(){return y}));let y=(()=>{class e{}return e.\u0275mod=a.Kb({type:e}),e.\u0275inj=a.Jb({factory:function(t){return new(t||e)},imports:[[c.b,v,g.a]]}),e})()}}]);