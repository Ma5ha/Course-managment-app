(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{ejW6:function(e,t,n){"use strict";n.r(t);var r=n("ofXK"),i=n("tyNb"),l=n("3Pt+"),o=n("fXoL"),c=n("1kSV");function s(e,t){1&e&&(o.Sb(0,"span",20),o.Bc(1," Field is required "),o.Rb())}function a(e,t){1&e&&(o.Sb(0,"span",20),o.Bc(1," Minimum 2 characters is required "),o.Rb())}function d(e,t){1&e&&(o.Sb(0,"span",20),o.Bc(1," Field is required "),o.Rb())}function b(e,t){1&e&&(o.Sb(0,"span",20),o.Bc(1," Minimum 2 characters is required "),o.Rb())}function u(e,t){1&e&&(o.Sb(0,"span",20),o.Bc(1," Field is required "),o.Rb())}function m(e,t){1&e&&(o.Sb(0,"span",20),o.Bc(1," Email is not valid "),o.Rb())}function p(e,t){1&e&&(o.Sb(0,"span",20),o.Bc(1," Field is required "),o.Rb())}let f=(()=>{class e{constructor(e){this.activeModal=e,this.btnLabel="Add"}ngOnInit(){this.createForm()}get firstNameField(){return this.studentForm.controls.firstName}get lastNameField(){return this.studentForm.controls.lastName}get emailField(){return this.studentForm.controls.email}get phoneNumberField(){return this.studentForm.controls.phoneNumber}handleAdd(){this.studentForm.invalid||this.activeModal.close(this.studentForm.value)}createForm(){this.studentForm=new l.d({firstName:new l.b(null,[l.o.required,l.o.minLength(2)]),lastName:new l.b(null,[l.o.required,l.o.minLength(2)]),email:new l.b(null,[l.o.required,l.o.email]),gender:new l.b("male",l.o.required),phoneNumber:new l.b(null,l.o.required)}),this.student&&this.studentForm.patchValue(this.student)}}return e.\u0275fac=function(t){return new(t||e)(o.Mb(c.a))},e.\u0275cmp=o.Gb({type:e,selectors:[["cm-student-modal"]],inputs:{title:"title",student:"student",btnLabel:"btnLabel"},decls:44,vars:11,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"formGroup"],[1,"form-group"],["type","text","formControlName","firstName",1,"form-control"],["class","text-danger",4,"ngIf"],["type","text","formControlName","lastName",1,"form-control"],["type","email","formControlName","email",1,"form-control"],["type","text","formControlName","phoneNumber",1,"form-control"],[1,"form-check","form-check-inline"],["formControlName","gender","type","radio","name","gender","id","male","value","male",1,"form-check-input"],["for","male",1,"form-check-label"],["formControlName","gender","type","radio","name","gender","id","female","value","female",1,"form-check-input"],["for","female",1,"form-check-label"],[1,"modal-footer"],["type","submit",1,"btn","btn-outline-primary",3,"disabled","click"],["type","button",1,"btn","btn-outline-dark",3,"click"],[1,"text-danger"]],template:function(e,t){1&e&&(o.Sb(0,"div",0),o.Sb(1,"h4",1),o.Bc(2),o.Rb(),o.Sb(3,"button",2),o.ec("click",(function(){return t.activeModal.dismiss()})),o.Sb(4,"span",3),o.Bc(5,"\xd7"),o.Rb(),o.Rb(),o.Rb(),o.Sb(6,"div",4),o.Sb(7,"form",5),o.Sb(8,"div",6),o.Sb(9,"label"),o.Bc(10,"First Name: "),o.Rb(),o.Nb(11,"input",7),o.zc(12,s,2,0,"span",8),o.zc(13,a,2,0,"span",8),o.Rb(),o.Sb(14,"div",6),o.Sb(15,"label"),o.Bc(16,"Last Name: "),o.Rb(),o.Nb(17,"input",9),o.zc(18,d,2,0,"span",8),o.zc(19,b,2,0,"span",8),o.Rb(),o.Sb(20,"div",6),o.Sb(21,"label"),o.Bc(22,"Email: "),o.Rb(),o.Nb(23,"input",10),o.zc(24,u,2,0,"span",8),o.zc(25,m,2,0,"span",8),o.Rb(),o.Sb(26,"div",6),o.Sb(27,"label"),o.Bc(28,"Phone Number: "),o.Rb(),o.Nb(29,"input",11),o.zc(30,p,2,0,"span",8),o.Rb(),o.Sb(31,"div",12),o.Nb(32,"input",13),o.Sb(33,"label",14),o.Bc(34,"Male"),o.Rb(),o.Rb(),o.Sb(35,"div",12),o.Nb(36,"input",15),o.Sb(37,"label",16),o.Bc(38,"Female"),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.Sb(39,"div",17),o.Sb(40,"button",18),o.ec("click",(function(){return t.handleAdd()})),o.Bc(41),o.Rb(),o.Sb(42,"button",19),o.ec("click",(function(){return t.activeModal.close()})),o.Bc(43,"Close"),o.Rb(),o.Rb()),2&e&&(o.zb(2),o.Cc(t.title),o.zb(5),o.jc("formGroup",t.studentForm),o.zb(5),o.jc("ngIf",t.firstNameField.touched&&(null==t.firstNameField.errors?null:t.firstNameField.errors.required)),o.zb(1),o.jc("ngIf",t.firstNameField.touched&&(null==t.firstNameField.errors?null:t.firstNameField.errors.minlength)),o.zb(5),o.jc("ngIf",t.lastNameField.touched&&(null==t.lastNameField.errors?null:t.lastNameField.errors.required)),o.zb(1),o.jc("ngIf",t.lastNameField.touched&&(null==t.lastNameField.errors?null:t.lastNameField.errors.minlength)),o.zb(5),o.jc("ngIf",t.emailField.touched&&(null==t.emailField.errors?null:t.emailField.errors.required)),o.zb(1),o.jc("ngIf",t.emailField.touched&&(null==t.emailField.errors?null:t.emailField.errors.email)),o.zb(5),o.jc("ngIf",t.phoneNumberField.touched&&(null==t.phoneNumberField.errors?null:t.phoneNumberField.errors.required)),o.zb(10),o.jc("disabled",t.studentForm.invalid),o.zb(1),o.Cc(t.btnLabel))},directives:[l.q,l.j,l.e,l.a,l.i,l.c,r.k,l.l],styles:[""]}),e})();var h=n("OzGw"),S=n("fOXG"),N=n("d3Ko"),F=n("liq8");function R(e,t){if(1&e){const e=o.Tb();o.Sb(0,"tr"),o.Sb(1,"th",7),o.Bc(2),o.Rb(),o.Sb(3,"td"),o.Bc(4),o.Rb(),o.Sb(5,"td",8),o.Sb(6,"button",9),o.ec("click",(function(){o.sc(e);const n=t.$implicit;return o.gc().editStudent(n)})),o.Bc(7," Edit "),o.Rb(),o.Sb(8,"button",10),o.ec("click",(function(){o.sc(e);const n=t.$implicit;return o.gc().deleteStudent(n)})),o.Bc(9," Delete "),o.Rb(),o.Rb(),o.Rb()}if(2&e){const e=t.$implicit,n=t.index;o.zb(2),o.Cc(n+1),o.zb(2),o.Ec("",e.firstName," ",e.lastName,"")}}const v=[{path:"",component:(()=>{class e{constructor(e,t,n){this.studentService=e,this.modalService=t,this.alert=n}ngOnInit(){this.loadStudents()}addStudent(){const e=this.modalService.open(f);e.componentInstance.title="Add Student",e.result.then(e=>{e&&this.studentService.createStudent(e).subscribe(e=>{this.loadStudents()},e=>{this.alert.error("Please try later","Unable to create student")})})}editStudent(e){const t=this.modalService.open(f);t.componentInstance.title="Edit Student",t.componentInstance.student=e,t.componentInstance.btnLabel="Edit",t.result.then(t=>{t&&this.studentService.updateStudent(e.id,t).subscribe(e=>{this.loadStudents()},e=>{this.alert.error("Please try later","Unexpected to edit student")})})}deleteStudent(e){const t=this.modalService.open(h.a);t.componentInstance.title=`Delete ${e.firstName} ${e.lastName}`,t.result.then(t=>{t&&this.studentService.deleteStudent(e.id).subscribe(e=>{this.alert.info("Student deleted"),this.loadStudents()},e=>{this.alert.error("Please try later","Unexpected error")})})}loadStudents(){this.studentService.getAll().subscribe(e=>{this.students=e},e=>{this.alert.error("Please try later","Unexpected error")})}}return e.\u0275fac=function(t){return new(t||e)(o.Mb(S.a),o.Mb(c.e),o.Mb(N.a))},e.\u0275cmp=o.Gb({type:e,selectors:[["cm-student-list"]],decls:14,vars:1,consts:[[1,"container-fluid","pt-2"],["title","Students",3,"onAddClick"],[1,"row","pt-5"],[1,"table","table-striped"],["scope","col"],["scope","col",1,"pull-right","action-column"],[4,"ngFor","ngForOf"],["scope","row"],[1,"pull-right","action-column"],["type","button",1,"btn","btn-info","btn-sm","mr-1",3,"click"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"]],template:function(e,t){1&e&&(o.Sb(0,"div",0),o.Sb(1,"cm-common-header",1),o.ec("onAddClick",(function(){return t.addStudent()})),o.Rb(),o.Sb(2,"div",2),o.Sb(3,"table",3),o.Sb(4,"thead"),o.Sb(5,"tr"),o.Sb(6,"th",4),o.Bc(7,"#"),o.Rb(),o.Sb(8,"th",4),o.Bc(9,"Name"),o.Rb(),o.Sb(10,"th",5),o.Bc(11,"Actions"),o.Rb(),o.Rb(),o.Rb(),o.Sb(12,"tbody"),o.zc(13,R,10,3,"tr",6),o.Rb(),o.Rb(),o.Rb(),o.Rb()),2&e&&(o.zb(13),o.jc("ngForOf",t.students))},directives:[F.a,r.j],styles:[""]}),e})()}];let g=(()=>{class e{}return e.\u0275mod=o.Kb({type:e}),e.\u0275inj=o.Jb({factory:function(t){return new(t||e)},imports:[[i.e.forChild(v)],i.e]}),e})();var y=n("PCNd");n.d(t,"StudentModule",(function(){return B}));let B=(()=>{class e{}return e.\u0275mod=o.Kb({type:e}),e.\u0275inj=o.Jb({factory:function(t){return new(t||e)},imports:[[r.b,g,y.a]]}),e})()}}]);